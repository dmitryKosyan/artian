(()=>{const e=document.querySelector(".header__modal");document.querySelector(".header-menu_items.modal").addEventListener("mouseenter",(()=>{e.style.display="block",e.addEventListener("mouseleave",(()=>{e.style.display="none"}))})),document.querySelectorAll(".services-wrapp_card").forEach((e=>{e.addEventListener("mouseenter",(()=>{e.style.background="#ffffff",e.firstElementChild.style.color="#000000"})),e.addEventListener("mouseleave",(()=>{e.style.background="",e.firstElementChild.style.color=""}))})),document.querySelectorAll(".services__wrapp-block").forEach((e=>{const t=e.lastElementChild;e.querySelectorAll(".services-button").forEach((e=>{e.addEventListener("click",(()=>{t.style.display="block"}))}))})),document.querySelectorAll(".services__button-close").forEach((e=>{e.addEventListener("click",(()=>{document.querySelectorAll(".services__modal-block").forEach((e=>{e.addEventListener("click",(()=>{e.style.display="none"}))}))}))}));const t=document.querySelectorAll(".cost-input_slider");let r=document.querySelector(".cost__modal-price");document.querySelector(".cost__modal-price");let o=0;t.forEach((e=>{e.addEventListener("change",(()=>{let t=e.querySelector(".check-box");t.checked&&(o+=+t.value,r.innerHTML=o+" руб."),t.checked||(o-=+t.value,r.innerHTML=o+" руб."),0===o&&(r.innerHTML="выберите опцию")}))}));const c=document.querySelector(".cost__button"),n=document.querySelector(".cost__modal");c.addEventListener("click",(e=>{n.style.display="block",e.stopPropagation(),window.addEventListener("click",(e=>{e.target!==n&&(n.style.display="none")}))}));const l=document.getElementById("check"),a=document.getElementById("check2"),s=document.getElementById("check8"),i=document.getElementById("check9");l.addEventListener("change",(()=>{l.checked?s.disabled=!0:s.disabled=!1,l.checked?i.disabled=!0:i.disabled=!1})),a.addEventListener("change",(()=>{a.checked?s.disabled=!0:s.disabled=!1,a.checked?i.disabled=!0:i.disabled=!1})),$(document).ready((function(){$(window).scroll((function(){$(this).scrollTop()>500?$("#scroller").fadeIn():$("#scroller").fadeOut()})),$("#scroller").click((function(){return $("body,html").animate({scrollTop:0},1e3),!1}))})),gsap.timeline().fromTo(".header-menu_link li",{y:-50,opacity:0},{y:0,opacity:1,stagger:.15},.5).from(".web-title_one",{x:-500,opacity:0,duration:2}).from(".web-title_two",{opacity:0,duration:2}),gsap.registerPlugin(ScrollTrigger),gsap.from(".services-inner_card ",{scrollTrigger:{trigger:".services",start:"-20% center",end:"+=250px",scrub:2},y:300}),gsap.from(".cost-title",{scrollTrigger:{trigger:".work-img_inner",start:"+20% center",scrub:.5},css:{fontSize:"80px"},duration:1}),gsap.from(".img__inner",{scrollTrigger:{trigger:".cost",start:"-5% center",end:"+=100px",scrub:2},xPercent:-50,delay:.1,ease:"none",scale:.4}),gsap.from(".cost-text",{scrollTrigger:{trigger:".cost",start:"+10% center",end:"+=50px",scrub:2},y:100,opacity:0}),gsap.from(".order__box-img",{scrollTrigger:{trigger:".order",start:"-5% center",end:"+=100px",scrub:2},xPercent:-50,delay:.1,ease:"none",scale:.4}),gsap.registerPlugin(Flip);let d=["final","plain","columns","grid"],u=document.querySelector(".containers"),p=0;gsap.delayedCall(1,(function e(){const t=Flip.getState(".letter, .for",{props:"color,backgroundColor",simple:!0});u.classList.remove(d[p]),p=(p+1)%d.length,u.classList.add(d[p]),Flip.from(t,{absolute:!0,stagger:.07,duration:.7,ease:"power2.inOut",spin:0===p,simple:!0,onEnter:(e,t)=>gsap.fromTo(e,{opacity:0},{opacity:1,delay:t.duration()-.1}),onLeave:e=>gsap.to(e,{opacity:0})}),gsap.delayedCall(0===p?3.5:1.5,e)}));const g=gsap.utils.toArray(".words-li"),m=gsap.utils.toArray(".pic-position"),y=m.length;let _=0;gsap.set(m[_],{zIndex:y}),g.forEach(((e,t)=>{const r=gsap.timeline({paused:!0});r.to(e.querySelectorAll(".single-chart1"),{yPercent:-100,duration:.4,stagger:.04,ease:"power2.in"}).from(e.querySelectorAll(".single-chart2"),{yPercent:100,duration:.4,stagger:.04,ease:"power1.in"},"<0.001"),e.addEventListener("mouseenter",(()=>{gsap.set(m[_],{zIndex:1}),gsap.set(m[t],{zIndex:y}),r.play(),_=t})),e.addEventListener("mouseleave",(()=>{r.reverse()}))}));let h=-200,f=document.getElementsByClassName("galary__frame");frames=Array.from(f),zVols=[],window.onscroll=function(){let e=document.documentElement.scrollTop;delta=h-e,h=e,frames.forEach(((e,t)=>{zVols.push(-1e3*t-1e3),zVols[t]+=-5*delta;let r=frames[t],o=`translateZ(${zVols[t]}px)`;r.setAttribute("style",`transform:${o}`)}))}})(),gsap.timeline().fromTo(".header__title",{opacity:0,x:-400},{opacity:1,duration:3,x:0},.4),gsap.registerPlugin(ScrollTrigger),gsap.from(".header__bottom-text",{scrollTrigger:{trigger:".header",start:"+40% center",end:"+=350px",scrub:2},y:300}),gsap.from(".header__bottom-phone",{scrollTrigger:{trigger:".header",start:"+40% center",end:"+=350px",scrub:2},y:300}),gsap.from(".header__btn",{scrollTrigger:{trigger:".header",start:"+40% center",end:"+=350px",scrub:2},y:300}),gsap.from(".projects__text",{scrollTrigger:{trigger:".header",start:"top",end:"bottom",scrub:2},y:300}),gsap.from(".projects__card",{scrollTrigger:{trigger:".header__bottom-block",start:" top",and:" bottom",scrub:2},stagger:3,scale:0,delay:2}),gsap.from(".about__text",{scrollTrigger:{trigger:".about",start:"-60% top",end:"+=4px",scrub:2},y:100,opacity:0}),gsap.from(".about__item-text",{scrollTrigger:{trigger:".about",start:"-30% top",end:"+=4px",scrub:2},y:100,opacity:0}),gsap.from(".partners__item",{scrollTrigger:{trigger:".about__item-text",start:"-300% top",and:"+=10px",scrub:1},stagger:1,scale:0}),$((function(){$(".header__btn-menu").on("click",(function(){$(".menu").toggleClass(".menu__open")})),$(".contact__image-box").slick({arrows:!1,dots:!0,slidesToShow:10,slidesToScroll:10}),$(".blogs__slider").slick({arrows:!0,dots:!1,slidesToShow:1,slidesToScroll:1})})),$((function(){$(".fairy-tail__slider, .our-trip__slider").slick({prevArrow:'<button type="button" class="slick-btn slick-prev"><img src="../../images/dist/capadociaImg/arrow-prev.svg" alt=""></button>',nextArrow:'<button type="button" class="slick-btn slick-next"><img src="../../images/dist/capadociaImg/arrow-next.svg" alt=""></button>',autoplay:!0,responsive:[{breakpoint:601,settings:{arrows:!1}}]}),$(".header__menu,.our-trip__body").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),r=$(t).offset().top;$("body,html").animate({scrollTop:r},2e3)}))})),(()=>{const e=e=>JSON.parse(localStorage.getItem(e))||[];function t(){document.querySelectorAll(".product__counter").forEach((e=>{const t=e.querySelector(".product__count-minus"),o=e.querySelector(".product__count-plus");let c=e.querySelector(".product__counter-number"),n=c.textContent;o.addEventListener("click",(()=>{c.textContent=++n,console.log(n),r()})),t.addEventListener("click",(()=>{n>1&&(c.textContent=--n,r())}))}))}function r(){document.querySelectorAll(".product__single-variation").forEach((e=>{let t=e.querySelector(".product__price-price");t=+t.textContent;let r=e.nextElementSibling.querySelector(".product__counter-number");"1"==r.innerText&&(e.querySelector(".product__price").textContent=t);let o=parseFloat(r.innerText)*t;o=`${o.toFixed(2)}`,e.querySelector(".product__price").textContent=o}))}function o(){const o=document.querySelector(".total-price-el"),n=document.querySelector(".cart-wrapper-item");let l=e("card");if(!l||!l.length)return n.innerHTML='<h4 class="cart-wrapper-h4">КОРЗИНА ПУСТА</h4>',void(o.textContent="0 руб");let a=0,s="";l.forEach(((e,t)=>{let r=[],c=parseFloat(e.prodPrice);a+=c,o.innerText=`${a.toFixed(2)}руб.`,r==[]&&e.additional.forEach((e=>{r.push(e.productName)})),s+=`\n        <div class="cart-wrapper-content" data-index=${t}>\n                    <div class="cart-product-img">\n                        <img class="img-product-cart" src=${e.imgProduct} />\n                    </div>\n                    <div class="product-name">\n                        <h3 class="cart-product-name">${e.prodName}\n                        </h3>\n                        <div class="addition">${r.join(",")}</div>\n                            <div class="counter-cart-wrapper">\n                            <div class="total-price">${c.toFixed(2)} руб.</div>\n                        </div>\n                    </div>    \n                    <div class="close-button">\n                     <svg xmlns="http://www.w3.org/2000/svg" width="43" height="43"\n                        viewBox="0 0 43 43" fill="none">\n                        <line x1="10.5176" y1="31.9363" x2="30.7566" y2="9.52154"\n                         stroke="#ec710c" stroke-width="2" />\n                         <line x1="31.6061" y1="32.2923" x2="11.0406" y2="10.1767"\n                        stroke="#ec710c" stroke-width="2" />\n                     </svg>\n                    </div>\n                </div> \n        `})),n.innerHTML=s;let i=document.querySelectorAll(".product__counter");i&&(i=[...i],i.forEach((e=>{e.addEventListener("click",t)}))),r(),document.querySelectorAll(".close-button").forEach((e=>{e.addEventListener("click",c)}))}function c(t){const r=t.target.closest(".cart-wrapper-content"),c=r.dataset.index,n=e("card");n.splice(c,1),localStorage.setItem("card",JSON.stringify(n)),r.textContent="",o(),function(){const t=e("card");document.querySelector(".header__basket-count").textContent=t.length}()}document.querySelectorAll(".product__ingridient-container").forEach((e=>{e.innerHTML+=Ingridients})),function(){function e(e){const t=e.target.closest(".product__card");let r=t.querySelector(".product__price-price"),o=t.querySelector(".product__price");r&&(r=+r.textContent,e.target.closest(".modal-ingridient").querySelectorAll(".product-add-somathing").forEach((e=>{if(!e.querySelector(".product-add-checkbox").checked)return;let t=parseFloat(e.querySelector(".product-add-current-price").textContent);r+=+t})),r=`${r.toFixed(2)}`,o.textContent=r,t.querySelector(".product__price-price").textContent=r)}document.querySelectorAll(".modal-ingridient").forEach((t=>{t.querySelectorAll(".product-add-checkbox").forEach((t=>{t.addEventListener("change",e)}))}))}(),t(),document.querySelectorAll(".product__discription-wrap").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".product__discription-wrap").querySelector(".product__discription");t.style.display="block",e.stopPropagation(),window.addEventListener("click",(()=>{".product__discription"!==e.target.closeet&&(t.style.display="none")}))}))})),function(){function e(e){const t=e.target,r=t.closest(".product__add-ingridient").querySelector(".modal__inner");r.style.display="block",e.stopPropagation(),window.addEventListener("click",(()=>{".product__add-ingridient"!==t.closeet&&(r.style.display="none")}))}document.querySelectorAll(".product__add-ingridient").forEach((t=>{t.addEventListener("click",e)}))}(),document.querySelectorAll(".product__counter").forEach((e=>{const t=e.querySelector(".product__add-tocart");t.addEventListener("click",(e=>{t.innerHTML='Добавлено \n           <svg width="14" height="14" viewBox="0 0 14 14" fill="none">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M12.2071 6.29289C12.5976 6.68342 12.5976 7.31658 12.2071 7.70711L6.70711 13.2071C6.31658 13.5976 5.68342 13.5976 5.29289 13.2071L2.29289 10.2071C1.90237 9.81658 1.90237 9.18342 2.29289 8.79289C2.68342 8.40237 3.31658 8.40237 3.70711 8.79289L6 11.0858L10.7929 6.29289C11.1834 5.90237 11.8166 5.90237 12.2071 6.29289Z" fill="black"/>\n           </svg>',buildCart(e),o()}))})),function(){const e=document.querySelector(".cart-modal"),t=document.querySelector(".cart-wrapper"),r=document.querySelector(".header__basket-wrap"),c=document.querySelector(".order-button");r.addEventListener("click",(r=>{o(),e.style.display="block",t.style.display="block"})),e.addEventListener("click",(t=>{t.stopPropagation(),t.target==e&&(e.style.display="none",c.innerHTML="оформить заказ",c.style.backgroundColor="#8eaf2b7d")}))}();const n=document.getElementById("form");n.addEventListener("submit",(function(e){e.preventDefault(e);const t=[],r=n.querySelector('[name="name"]'),o=n.querySelector('[name="phone"]'),c=n.querySelector('[name="adress"]');document.querySelector(".total-price-el").textContent,n.querySelector('[name="payment"]:checked').value,cards.forEach((e=>{const r={name:e.prodName,count:e.prodCountEl,size:e.productSize};t.push(r);let o="";e.additional.length&&(o=e.additional),t.push(o)})),r.value,o.value,c.value,function(){const e=document.querySelector(".lds-roller"),t=document.querySelector(".order-button");setTimeout((()=>{e.style.display="inline-block",setTimeout((()=>{e.style.display="none",t.innerHTML="заказ оформлен",t.style.backgroundColor="#80d13adc"}),4e3)}),500)}()}))})(),function(){document.querySelectorAll(".product__item-wrapper").forEach((e=>{e.addEventListener("click",t)}));const e=document.querySelectorAll(".product__variable-indicator");for(const t of e){const e=t.parentNode;t.style.width=`calc(100% / ${[...e.children].length-1})`;const r=e.querySelector(".selected");let o=0;if(r){const t=[...e.children].findIndex((e=>e.classList.contains("selected")));o=r.getBoundingClientRect().width*t}t.style.left=`${o}px`}function t(e){const t=e.target.parentNode;[...t.children].forEach((e=>{e.classList.remove("selected")})),e.target.classList.add("selected");let r=t.querySelector(".product__variable-indicator");const o=[...t.children].findIndex((t=>t==e.target));r.style.left=e.target.getBoundingClientRect().width*o+"px";const c=e.target.dataset.value,n=e.target.dataset.weigth;e.target.closest(".product__card").querySelectorAll(".product__single-variation").forEach((e=>{const t=c,r=n,o=e.querySelector(".product__price"),l=e.querySelector(".product__price-price"),a=e.querySelector(".product__weigth");o.textContent=`${t} `,l.textContent=`${t} `,a.textContent=`/${r}`}));const l=e.target.dataset.price;document.querySelectorAll(".product-add-somathing").forEach((e=>{const t=e.dataset[`price-${l}`];e.querySelector(".product-add-current-price").textContent=`${t} руб.`}))}}();